<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>BacBo Live Analyzer</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
  text-align: center;
}
.circle {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  display: inline-block;
  margin: 4px;
}
.player { background: #2563eb; }
.banker { background: #dc2626; }
.tie { background: #16a34a; }

.panel {
  margin-top: 20px;
  padding: 20px;
  background: #020617;
  border-radius: 10px;
  display: inline-block;
}
</style>
</head>
<body>

<h1>BacBo Live Analyzer</h1>

<div id="history"></div>

<div class="panel" id="panel">
  <h2>SINAL: —</h2>
  <p>Confiança: —%</p>
  <p>Volatilidade: —%</p>
</div>

<script>
async function send(result) {
  const res = await fetch(`/round?result=${result}`, { method: "POST" });
  const data = await res.json();

  const historyDiv = document.getElementById("history");
  historyDiv.innerHTML = "";
  data.history.forEach(r => {
    const c = document.createElement("div");
    c.className = "circle " + r.toLowerCase();
    historyDiv.appendChild(c);
  });

  document.getElementById("panel").innerHTML = `
    <h2>SINAL: ${data.analysis.signal}</h2>
    <p>Confiança: ${data.analysis.confidence}%</p>
    <p>Volatilidade: ${data.analysis.volatility}%</p>
  `;
}
</script>

<br><br>
<button onclick="send('PLAYER')">PLAYER</button>
<button onclick="send('BANKER')">BANKER</button>
<button onclick="send('TIE')">EMPATE</button>

</body>
</html>
